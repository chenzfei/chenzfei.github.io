;/*!js/util/util.js*/
define("js/util/util",function(t,n,e){var r={tpl:function(t){return document.getElementById(t).innerHTML},getTimeLimit:function(t){var n=parseInt(t%60),e=parseInt(t/60%60),r=parseInt(t/3600%24),i=parseInt(t/86400);return{d:10>i?"0"+i:i,h:10>r?"0"+r:r,m:10>e?"0"+e:e,s:10>n?"0"+n:n}}};e.exports=r});
;/*!js/view/home/home.js*/
define("js/view/home/home",function(t,e,n){var a=t("js/util/util"),i=Vue.extend({template:a.tpl("homeTpl"),data:function(){return{shopList:[{src:"01.png",title:"精品组合"},{src:"02.png",title:"精品组合"},{src:"03.png",title:"精品组合"},{src:"04.png",title:"精品组合"},{src:"05.png",title:"精品组合"}],hotNew:[{top:"雅马哈数码电钢琴",bottom:"现价￥6500机不可失"},{top:"精选设备组合",bottom:"超高性价，品质保证"}],onSale:[{residue:35,src:"onSale/01.jpg",title:"初学者推荐十孔布鲁斯蓝调口琴",product:"BoogieMan(白色)",oldPrice:130,newPrice:88},{percent:"23%",src:"onSale/02.png",title:"初学者新手入门吉他学生男女乐器",product:"安德鲁38寸吉他",oldPrice:206,newPrice:143},{residue:77,src:"onSale/03.jpg",title:"顺丰雅马哈电子琴初学者入门61键成人儿童",product:"YAMAHA电子琴PSR-F51",oldPrice:749,newPrice:649}],productData:{}}},methods:{},created:function(){var t=this;$.get("data/homeData.json",function(e){e&&e.data&&(t.productData=e.data)})},ready:function(){function t(){var t=$(".discountLimit .limitContainer .timeLimit"),e=+new Date("2017/05/01 23:59");e=e<+new Date?+new Date+11e6:e;var n,i,s,o=setInterval(function(){if(n=+new Date,i=(e-n)/1e3,0>=i)return void clearInterval(o);s=a.getTimeLimit(i);var r=(+s.d>0?'<span class="dayLimit">'+s.d+"</span><i></i>":"")+'<span class="hourLimit">'+s.h+'</span>:<span class="minuteLimit">'+s.m+'</span>:<span class="secondLimit">'+s.s+"</span>";t.html(r)},200)}function e(){var t=$(".shopContainer .hotBoard ul li"),e=t.length,n=0;t.eq(n).addClass("current"),setInterval(function(){t.eq(n).css({transform:"translateY(-40px)"}),n++,n>e-1&&(n=0),t.eq(n).css({transition:"all .5s linear 0s",transform:"translateY(0px)"});var a=t.eq(n).next()[0]?t.eq(n).next():t.eq(0);setTimeout(function(){a.css({transition:"none",transform:"translateY(40px)"})},1e3)},3e3)}t(),e()}});Vue.component("home",i),n.exports=i});
;/*!js/view/list/list.js*/
define("js/view/list/list",function(t,e,i){var s=t("js/util/util"),a=Vue.extend({template:s.tpl("listTpl"),props:["comSearch"],data:function(){return{listData:[],otherData:[],orders:[{id:"synthesize",text:"综合"},{id:"monthSale",text:"销量"},{id:"price",text:"价格"},{id:"shop",text:"店铺"}],ordersType:"",typeFirst:!0}},created:function(){var t=this,e=[];this.$dispatch("showCarousel",!0),$.get("data/homeData.json",function(i){var s=i.data;for(var a in s)for(var r=0;r<s[a].length;r++)e.push(s[a][r]);t.comSearch?t.listData=e:(t.listData=e.slice(0,4),t.otherData=e.slice(4))})},methods:{loadOther:function(){this.listData=[].concat(this.listData,this.otherData),this.otherData=[]},sortByType:function(t,e){this.loadOther(),this.typeFirst=this.ordersType===t?!this.typeFirst:!0,this.ordersType=t,this.typeFirst?($(e.target).addClass("active").siblings().removeClass("active"),this.listData.sort(function(e,i){return"price"===t?e[t]-i[t]:i[t]-e[t]})):this.listData.sort(function(e,i){return"price"===t?i[t]-e[t]:e[t]-i[t]})}}});Vue.component("list",a),i.exports=a});
;/*!js/view/detail/detail.js*/
define("js/view/detail/detail",function(t,i,e){var s=t("js/util/util"),o=Vue.extend({template:s.tpl("detailTpl"),data:function(){return{detailData:[],showLeft:!0,viewWidth:this.$parent.viewWidth,imgListWidth:0,dotListWidth:0,imgIdx:0,proIdx:0,proNumCheck:1,proCheck:"",prosShow:!1,leftOrRight:!1}},created:function(){this.$dispatch("showSearch",!1),this.$dispatch("showCarousel",!0);var t=this;$.get("data/detailData.json",function(i){i&&!i.errno&&(t.detailData=i.data,t.proCheck=i.data.colors[0].type,t.imgListWidth=i.data.detailImg.length*t.viewWidth,t.dotListWidth=23*i.data.detailImg.length)})},ready:function(){$(".productImg").height(360)},methods:{showLeftOrRight:function(t,i){$(t.target).addClass("isActive").siblings().removeClass("isActive"),this.leftOrRight=i},changePro:function(t){this.proIdx=t,this.proCheck=this.detailData.colors[t].type},proNumLt:function(){this.proNumCheck--,this.proNumCheck<=1&&(this.proNumCheck=1)},proNumGt:function(){this.proNumCheck++},closePro:function(t){this.prosShow=t},shopCar:function(){this.prosShow=!this.prosShow},changeImgIdx:function(t,i){this.imgIdx=i,$(t.target).addClass("active").siblings().removeClass("active"),$("#imgList").css({left:-this.imgIdx*this.viewWidth+"px"})},imgMove:function(t){var i,e=this,s=this.detailData.productImg.length,o=$("#imgList"),h=$("#dotList li"),a=t.touches[0].clientX,n=o.position().left,d=e.viewWidth/3;o.bind("touchend",function(){o.css({transition:"all .3s"}).unbind("touchmove").unbind("touchend"),-d>=i?(e.imgIdx++,e.imgIdx>=s-1&&(e.imgIdx=s-1)):i>=d&&(e.imgIdx--,e.imgIdx<=0&&(e.imgIdx=0)),o.css({left:-e.imgIdx*e.viewWidth+"px"}),h.eq(e.imgIdx).addClass("active").siblings().removeClass("active")}),o.bind("touchmove",function(t){i=t.touches[0].clientX-a,o.css({left:i+n+"px",transition:"none"})})},retreat:function(){this.$parent.isShowSearch=!0,history.go(-1)}}});Vue.component("detail",o),e.exports=o});
;/*!js/view/app.js*/
define("js/view/app",function(s,i,e){var n=(s("js/view/home/home"),s("js/view/list/list"),s("js/view/detail/detail"),$(window)),t=new Vue({el:"#app",data:{carousel:[{src:"01.jpg",className:"current"},{src:"02.jpg",className:""},{src:"03.jpg",className:""},{src:"04.jpg",className:""}],viewWidth:$(window).width(),imgHeight:300,query:[],view:"",search:"",getSearch:"",isLeaveHome:!1,isShowSearch:!0,isScrollWindow:!1,isShowClassify:!1},methods:{shuffling:function(){function s(){o=setInterval(function(){i()},3e3)}function i(s){s&&s>0?t--:t++,t>3&&(t=0),0>t&&(t=3),a.eq(t).css({opacity:"1"}),a.eq(t).addClass("current").siblings().removeClass("current"),a.eq(t).siblings().css({opacity:"0"}),l.eq(t).addClass("current").siblings().removeClass("current")}var e,n,t=0,o=null,c=$("#imgBox"),a=$("#imgBox li"),l=$("#circle li");l.bind("tap",function(){clearInterval(o),t=+$(this).data("idx")-1,i(),s()}),c.bind("touchstart",function(t){e=t.touches[0].clientX,clearInterval(o),c.bind("touchmove",function(s){n=s.touches[0].clientX-e}),c.bind("touchend",function(){s(),i(n),c.unbind("touchmove"),c.unbind("touchend")})}),s()},showClassify:function(){this.isShowClassify=!this.isShowClassify},hiddeClassify:function(){var s=this;setTimeout(function(){s.isShowClassify=!s.isShowClassify},200)},goSearch:function(){location.hash="list/"+this.search,this.getSearch=this.search,this.search=""}},events:{showCarousel:function(s){this.isLeaveHome=s},showSearch:function(s){this.isShowSearch=s}}});t.shuffling(),n.on("scroll",function(){t.isScrollWindow=n.scrollTop()>160&&!t.isLeaveHome?!0:!1}),e.exports=t});
;/*!js/route/route.js*/
define("js/route/route",function(e,i,a){function o(){var e=location.hash.slice(1).replace(/^\//,"").split("/"),i={home:!0,list:!0,detail:!0};i[e[0]]?("home"===e[0]&&(s.isLeaveHome=!1,s.isShowSearch=!0,s.getSearch=""),s.isShowClassify=!1,s.view=e[0]):(s.isLeaveHome=!1,s.isShowSearch=!0,s.view="home",s.getSearch=""),s.query=e.slice(1)}var s=e("js/view/app");window.addEventListener("hashchange",o),window.addEventListener("load",o),a.exports=o});
;/*!js/bootstrap.js*/
define("js/bootstrap",function(o){o("js/route/route")});
